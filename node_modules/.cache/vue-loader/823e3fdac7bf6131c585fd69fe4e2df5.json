{"remainingRequest":"/home/riddhi/Desktop/learnings/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/riddhi/Desktop/learnings/frontend/src/components/Signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/riddhi/Desktop/learnings/frontend/src/components/Signup.vue","mtime":1574771198987},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1574162603991},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/babel-loader/lib/index.js","mtime":1574162576952},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574163471880},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1574162603991},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/vue-loader/lib/index.js","mtime":1574162606994}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2lnbnVwJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBwYXNzd29yZF9jb25maXJtYXRpb246ICcnLAogICAgICBlcnJvcjogJycsCiAgICAgIHNob3cxOiBmYWxzZSwKICAgICAgc2hvdzI6IGZhbHNlLAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICdSZXF1aXJlZC4nLAogICAgICAgIG1pbjogdiA9PiB2Lmxlbmd0aCA+PSA2IHx8ICdNaW4gNiBjaGFyYWN0ZXJzJywKICAgICAgfSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgIH0KICB9LAogIGNyZWF0ZWQgKCkgewogICAgdGhpcy5jaGVja1NpZ25lZEluKCkKICB9LAogIHVwZGF0ZWQgKCkgewogICAgdGhpcy5jaGVja1NpZ25lZEluKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIHNpZ251cCAoKSB7CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9PSB0aGlzLnBhc3N3b3JkX2NvbmZpcm1hdGlvbil7CiAgICAgICAgdGhpcy5lcnJvciAgPSAiUGFzc3dvcmQgYW5kIFBhc3N3b3JkIGNvbmZpcm1hdGlvbiBkb2VzIG5vdCBtYXRjaCIKICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLiRodHRwLnBsYWluLnBvc3QoJy9zaWdudXAnLCB7IGVtYWlsOiB0aGlzLmVtYWlsLCBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB0aGlzLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHRoaXMuc2lnbnVwU3VjY2Vzc2Z1bChyZXNwb25zZSkpCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHRoaXMuc2lnbnVwRmFpbGVkKGVycm9yKSkKICAgIH0sCiAgICBzaWdudXBTdWNjZXNzZnVsIChyZXNwb25zZSkgewogICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuY3NyZikgewogICAgICAgIHRoaXMuc2lnbnVwRmFpbGVkKHJlc3BvbnNlKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGxvY2FsU3RvcmFnZS5jc3JmID0gcmVzcG9uc2UuZGF0YS5jc3JmCiAgICAgIGxvY2FsU3RvcmFnZS5hY2Nlc3MgPSByZXNwb25zZS5kYXRhLmFjY2VzcwogICAgICBsb2NhbFN0b3JhZ2Uuc2lnbmVkSW4gPSB0cnVlCiAgICAgIHRoaXMuZXJyb3IgPSAnJwogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL3RvZG9zJykKICAgIH0sCiAgICBzaWdudXBGYWlsZWQgKGVycm9yKSB7CiAgICAgIHRoaXMuZXJyb3IgPSAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKSB8fCAnU29tZXRoaW5nIHdlbnQgd3JvbmcnCiAgICAgIGlmICh0aGlzLmVycm9yICE9PSAnJyl7CiAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlCiAgICAgIH0KICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5jc3JmCiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2UuYWNjZXNzCiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2Uuc2lnbmVkSW4KICAgIH0sCiAgICBjaGVja1NpZ25lZEluICgpIHsKICAgICAgaWYgKGxvY2FsU3RvcmFnZS5zaWduZWRJbikgewogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvdG9kb3MnKQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcGFzc3dvcmRDb25maXJtYXRpb25SdWxlKCkgewogICAgICByZXR1cm4gKCkgPT4gKHRoaXMucGFzc3dvcmQgPT09IHRoaXMucGFzc3dvcmRfY29uZmlybWF0aW9uKSB8fCAnUGFzc3dvcmQgbXVzdCBtYXRjaCcKICAgIH0KICB9LAogIC8vIHdhdGNoOiB7CiAgLy8gICBwYXNzd29yZF9jb25maXJtYXRpb246IGZ1bmN0aW9uICh2YWwpIHsKICAvLyAgICAgdGhpcy5yZVBhc3MgPSAodmFsID09PSB0aGlzLnBhc3N3b3JkKQogIC8vICAgfQogIC8vIH0KfQo="},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Signup.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-content>\n    <v-container >\n      <v-row align=\"center\" justify=\"center\">\n        <v-col cols=\"12\" sm=\"8\" md=\"4\">\n          <v-card class=\"elevation-12\">\n            <v-toolbar dark flat>\n              <v-toolbar-title>\n                <v-spacer />\n                TESTAPP SIGNUP\n              </v-toolbar-title>\n            </v-toolbar>\n              <v-card-text>\n                <v-dialog v-model=\"dialog\" max-width=\"400\">\n                  <v-card>\n                    <v-card-title>   </v-card-title>\n                    <v-card-text>\n                      <h4 style=\"color:rgb(196, 19, 19)\">{{ error }}</h4>\n                    </v-card-text>\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn color=\"green darken-1\" text @click=\"dialog = false\" >\n                        OK\n                      </v-btn>\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n                <v-form @submit.prevent=\"signup\">\n                  <v-text-field outlined v-model=\"email\" type=\"email\" label=\"Email\" :rules=\"[rules.required]\"></v-text-field>  \n                  <v-text-field outlined v-model=\"password\" label=\"Password\"\n                    :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                    :rules=\"[rules.required, rules.min]\"\n                    :type=\"show1 ? 'text' : 'password'\"\n                    hint=\"At least 6 characters\"\n                    counter\n                    @click:append=\"show1 = !show1\">\n                  </v-text-field>\n                  <v-text-field outlined v-model=\"password_confirmation\" label=\"Password Confirmation\"\n                    :append-icon=\"show2 ? 'mdi-eye' : 'mdi-eye-off'\"\n                    :rules=\"[rules.required, rules.min, passwordConfirmationRule]\"\n                    :type=\"show2 ? 'text' : 'password'\"\n                    hint=\"At least 6 characters\"\n                    counter\n                    @click:append=\"show2 = !show2\">\n                  </v-text-field>\n                </v-form>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer />\n                <v-btn color=\"primary\" @click=\"signup()\">Sign up</v-btn>\n              </v-card-actions>\n            \n          </v-card>\n          <div class=\"vaction\">\n            <v-btn text outlined small to=\"/\">Login</v-btn>\n          </div>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-content>\n  </template>\n  \n  <script>\n  export default {\n    name: 'Signup',\n    data () {\n      return {\n        email: '',\n        password: '',\n        password_confirmation: '',\n        error: '',\n        show1: false,\n        show2: false,\n        rules: {\n          required: value => !!value || 'Required.',\n          min: v => v.length >= 6 || 'Min 6 characters',\n        },\n        dialog: false,\n      }\n    },\n    created () {\n      this.checkSignedIn()\n    },\n    updated () {\n      this.checkSignedIn()\n    },\n    methods: {\n      signup () {\n        if (this.password !== this.password_confirmation){\n          this.error  = \"Password and Password confirmation does not match\"\n          this.dialog = true\n          return\n        }\n        this.$http.plain.post('/signup', { email: this.email, password: this.password, password_confirmation: this.password_confirmation })\n          .then(response => this.signupSuccessful(response))\n          .catch(error => this.signupFailed(error))\n      },\n      signupSuccessful (response) {\n        if (!response.data.csrf) {\n          this.signupFailed(response)\n          return\n        }\n        localStorage.csrf = response.data.csrf\n        localStorage.access = response.data.access\n        localStorage.signedIn = true\n        this.error = ''\n        this.$router.replace('/todos')\n      },\n      signupFailed (error) {\n        this.error = (error.response && error.response.data && error.response.data.error) || 'Something went wrong'\n        if (this.error !== ''){\n          this.dialog = true\n        }\n        delete localStorage.csrf\n        delete localStorage.access\n        delete localStorage.signedIn\n      },\n      checkSignedIn () {\n        if (localStorage.signedIn) {\n          this.$router.replace('/todos')\n        }\n      }\n    },\n    computed: {\n      passwordConfirmationRule() {\n        return () => (this.password === this.password_confirmation) || 'Password must match'\n      }\n    },\n    // watch: {\n    //   password_confirmation: function (val) {\n    //     this.rePass = (val === this.password)\n    //   }\n    // }\n  }\n  </script>\n  \n  <style lang=\"css\">\n  .form-signup {\n    width: 70%;\n    max-width: 500px;\n    padding: 10% 15px;\n    margin: 0 auto;\n  }\n  .vaction{\n    justify-content: center;\n    margin: 30px;\n    padding: auto;\n    text-align: center;\n  }\n  </style>"]}]}