{"remainingRequest":"/home/riddhi/Desktop/learnings/frontend/node_modules/babel-loader/lib/index.js!/home/riddhi/Desktop/learnings/frontend/node_modules/vuetify-loader/lib/loader.js!/home/riddhi/Desktop/learnings/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/riddhi/Desktop/learnings/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/riddhi/Desktop/learnings/frontend/src/components/todos/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/riddhi/Desktop/learnings/frontend/src/components/todos/List.vue","mtime":1574771198987},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1574162603991},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/babel-loader/lib/index.js","mtime":1574162576952},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574163471880},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1574162603991},{"path":"/home/riddhi/Desktop/learnings/frontend/node_modules/vue-loader/lib/index.js","mtime":1574162606994}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpc3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2RvczogW10sCiAgICAgIG5ld1RvZG86IFtdLAogICAgICBlcnJvcjogJycsCiAgICAgIGVkaXRlZFRvZG86ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKCFsb2NhbFN0b3JhZ2Uuc2lnbmVkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy8nKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJGh0dHAuc2VjdXJlZC5nZXQoJy9hcGkvdjEvdG9kb3MnLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuYWNjZXNzCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnRvZG9zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnNldEVycm9yKGVycm9yLCAnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRFcnJvcjogZnVuY3Rpb24gc2V0RXJyb3IoZXJyb3IsIHRleHQpIHsKICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvciB8fCB0ZXh0OwogICAgfSwKICAgIGFkZFRvZG86IGZ1bmN0aW9uIGFkZFRvZG8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHZhbHVlID0gdGhpcy5uZXdUb2RvICYmIHRoaXMubmV3VG9kby50cmltKCk7CgogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRodHRwLnNlY3VyZWQucG9zdCgnL2FwaS92MS90b2RvcycsIHsKICAgICAgICB0b2RvOiB7CiAgICAgICAgICB0aXRsZTogdGhpcy5uZXdUb2RvCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuYWNjZXNzCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi50b2Rvcy5wdXNoKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpczIubmV3VG9kbyA9ICcnOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLnNldEVycm9yKGVycm9yLCAnQ2Fubm90IGNyZWF0ZSB0b2RvJyk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZVRvZG86IGZ1bmN0aW9uIHJlbW92ZVRvZG8odG9kbykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuc2VjdXJlZC5kZWxldGUoIi9hcGkvdjEvdG9kb3MvIi5jb25jYXQodG9kby5pZCksIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5hY2Nlc3MKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLnRvZG9zLnNwbGljZShfdGhpczMudG9kb3MuaW5kZXhPZih0b2RvKSwgMSk7CgogICAgICAgIF90aGlzMy5lcnJvciA9IHJlc3BvbnNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnNldEVycm9yKGVycm9yLCAnQ2Fubm90IGRlbGV0ZSB0b2RvJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRUb2RvOiBmdW5jdGlvbiBlZGl0VG9kbyh0b2RvKSB7CiAgICAgIHRoaXMuZWRpdGVkVG9kbyA9IHRvZG87CiAgICB9LAogICAgdXBkYXRlVG9kbzogZnVuY3Rpb24gdXBkYXRlVG9kbyh0b2RvKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5lZGl0ZWRUb2RvID0gJyc7CiAgICAgIHRoaXMuJGh0dHAuc2VjdXJlZC5wYXRjaCgiL2FwaS92MS90b2Rvcy8iLmNvbmNhdCh0b2RvLmlkKSwgewogICAgICAgIHRvZG86IHsKICAgICAgICAgIHRpdGxlOiB0b2RvLnRpdGxlCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuYWNjZXNzCiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LnNldEVycm9yKGVycm9yLCAnQ2Fubm90IHVwZGF0ZSB0b2RvJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuc2VjdXJlZC5kZWxldGUoJy9zaWduaW4nLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuYWNjZXNzCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlLmFjY2VzczsKICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlLmNzcmY7CiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5zaWduZWRJbjsKCiAgICAgICAgX3RoaXM1LiRyb3V0ZXIucHVzaCgnLycpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXM1LnNldEVycm9yKGVycm9yLCAnQ2Fubm90IGRlbGV0ZSB0b2RvJyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZGlyZWN0aXZlczogewogICAgJ3RvZG8tZm9jdXMnOiBmdW5jdGlvbiB0b2RvRm9jdXMoZWwpIHsKICAgICAgZWwuZm9jdXMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["List.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"todos\">\n      <div class=\"alert alert-danger\" v-if=\"error\">{{ error }}</div>\n      <h3>Todos</h3>\n      \n      <input class=\"form-control\"\n        autofocus autocomplete=\"off\"\n        placeholder=\"What needs to be done?\"\n        v-model=\"newTodo\"\n        @keyup.enter=\"addTodo\" />\n      <br />\n      <ul class=\"list-group\">\n        <li class=\"list-group-item\" v-for=\"todo in todos\" :key=\"todo.id\" :todo=\"todo\">\n          <div v-show=\"todo != editedTodo\" @dblclick=\"editTodo(todo)\">\n            <label>{{ todo.title }}</label>\n            <i class=\"fa fa-trash-alt float-right\" @click=\"removeTodo(todo)\"></i>\n          </div>\n          <div v-show=\"todo == editedTodo\">\n            <input class=\"form-control\"\n              v-todo-focus\n              @blur=\"updateTodo(todo)\"\n              @keyup.enter=\"updateTodo(todo)\"\n              v-model=\"todo.title\"\n            />\n          </div>\n        </li>\n      </ul>\n      <v-spacer />\n      <v-btn @click=\"logout()\">Logout</v-btn>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'List',\n    data () {\n      return {\n        todos: [],\n        newTodo: [],\n        error: '',\n        editedTodo: ''\n      }\n    },\n    created () {\n      if (!localStorage.signedIn) {\n        this.$router.replace('/')\n      } else {\n        this.$http.secured.get('/api/v1/todos',{\n          headers: {\n            'Authorization': 'Bearer ' + localStorage.access\n          }})\n          .then(response => { this.todos = response.data })\n          .catch(error => this.setError(error, 'Something went wrong'))\n      }\n    },\n    methods: {\n      setError (error, text) {\n        this.error = (error.response && error.response.data && error.response.data.error) || text\n      },\n      addTodo () {\n        const value = this.newTodo && this.newTodo.trim()\n        if (!value) {\n          return\n        }\n        this.$http.secured.post('/api/v1/todos', { todo: { title: this.newTodo } }, {\n          headers: {\n            'Authorization': 'Bearer ' + localStorage.access\n          }\n        })\n          .then(response => {\n            this.todos.push(response.data)\n            this.newTodo = ''\n          })\n          .catch(error => this.setError(error, 'Cannot create todo'))\n      },\n      removeTodo (todo) {\n        this.$http.secured.delete(`/api/v1/todos/${todo.id}`, {\n          headers: {\n            'Authorization': 'Bearer ' + localStorage.access\n          }\n        })\n          .then(response => {\n            this.todos.splice(this.todos.indexOf(todo), 1)\n            this.error = response\n          })\n          .catch(error => this.setError(error, 'Cannot delete todo'))\n      },\n      editTodo (todo) {\n        this.editedTodo = todo\n      },\n      updateTodo (todo) {\n        this.editedTodo = ''\n        this.$http.secured.patch(`/api/v1/todos/${todo.id}`, { todo: { title: todo.title } }, {\n          headers: {\n            'Authorization': 'Bearer ' + localStorage.access\n          }\n        })\n          .catch(error => this.setError(error, 'Cannot update todo'))\n      },\n      logout (){\n        this.$http.secured.delete('/signin', {\n          headers: {\n            'Authorization': 'Bearer ' + localStorage.access\n          }\n        })\n          .then(response => {\n            console.log(response)\n            delete localStorage.access\n            delete localStorage.csrf\n            delete localStorage.signedIn\n            this.$router.push('/')\n          })\n          .catch(error => this.setError(error, 'Cannot delete todo'))\n      }\n    },\n    directives: {\n      'todo-focus': function (el) {\n        el.focus()\n      }\n    }\n  }\n  </script>\n  \n  <style lang=\"css\">\n  .todos ul li i.fa.fa-trash-alt {\n    visibility: hidden;\n    margin-top: 5px;\n  }\n  .todos ul li:hover {\n    background: #fcfcfc;\n  }\n  .todos ul li:hover i.fa.fa-trash-alt {\n    visibility: visible;\n  }\n  </style>"],"sourceRoot":"src/components/todos"}]}